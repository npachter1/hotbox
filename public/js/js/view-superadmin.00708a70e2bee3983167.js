(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"9QrA":function(t,e,n){"use strict";n.r(e);var s={props:{module:{type:String,default:"auth"}},data:function(){return{}},components:{},mounted:function(){},methods:{},computed:{section:function(){return this.$store.state.sections[this.$store.state.disp.section]},isEditPage:function(){return-1!==this.$route.name.indexOf("_")&&-1===this.$route.name.indexOf("_index")},indexView:function(){var t=this.isEditPage?this.$route.name.substr(0,this.$route.name.indexOf("_")):this.$route.name;return this.section&&this.section.views?this.section.views.find((function(e){return e.name==t})):null}},watch:{$route:function(t,e){}}},i=n("KHd+"),a=Object(i.a)(s,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row gutters"},[t.section?n("div",{staticClass:"col-xl-12 col-lg-12 col-md-12 col-sm-12"},[n("div",{staticClass:"card top-blue-bdr"},[t._m(0),t._v(" "),n("div",{staticClass:"card-body"},[n("router-view"),t._v(" "),n("hr"),t._v(" "),n("div",{staticClass:"stats"},[t.isEditPage?t._e():n("router-link",{attrs:{to:{name:"location_index"},tag:"a"}},[n("i",{staticClass:"ti-angle-left"}),t._v(" Back to Dashboard")])],1)],1)])]):n("div",{staticClass:"col-12 text-center mt-4"},[n("h5",[t._v("Hmm, It appears that this ection has not yet been activated.  Please choose another section.")])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"card-header"},[e("div",{staticClass:"w-100 small text-right mt-1 mb-1 mr-4"},[e("a",{attrs:{href:"../../../log-viewer",target:"_blank"}},[e("i",{staticClass:"fal fa-bug"}),this._v(" Error Logs »")]),this._v(" | \n                    "),e("a",{attrs:{href:"../../../horizon/dashboard",target:"_blank"}},[e("i",{staticClass:"fal fa-layer-plus"}),this._v(" Redis Horizon Queue »")])])])}],!1,null,null,null);e.default=a.exports},H9lz:function(t,e,n){var s=n("zz4g");"string"==typeof s&&(s=[[t.i,s,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(s,i);s.locals&&(t.exports=s.locals)},L48W:function(t,e,n){"use strict";var s=n("H9lz");n.n(s).a},MvzQ:function(t,e,n){"use strict";var s=n("ocDq");n.n(s).a},Nx9N:function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,"\n.action-link[data-v-c665e870] {\n    cursor: pointer;\n}\n",""])},aLaw:function(t,e,n){var s=n("yzjC");"string"==typeof s&&(s=[[t.i,s,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(s,i);s.locals&&(t.exports=s.locals)},dbvk:function(t,e,n){"use strict";n.r(e);var s=n("LvDl"),i=n.n(s),a={data:function(){return{tokens:[]}},ready:function(){this.prepareComponent()},mounted:function(){this.prepareComponent()},methods:{prepareComponent:function(){this.getTokens()},getTokens:function(){var t=this;axios.get("/oauth/tokens").then((function(e){t.tokens=e.data}))},revoke:function(t){var e=this;axios.delete("/oauth/tokens/"+t.id).then((function(t){e.getTokens()}))}}},r=(n("oMnY"),n("KHd+")),o=Object(r.a)(a,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.tokens.length>0?n("div",[n("div",{staticClass:"card card-default"},[n("div",{staticClass:"card-header"},[t._v("Authorized Applications")]),t._v(" "),n("div",{staticClass:"card-body"},[n("table",{staticClass:"table table-borderless mb-0"},[t._m(0),t._v(" "),n("tbody",t._l(t.tokens,(function(e){return n("tr",[n("td",{staticStyle:{"vertical-align":"middle"}},[t._v("\n                                "+t._s(e.client.name)+"\n                            ")]),t._v(" "),n("td",{staticStyle:{"vertical-align":"middle"}},[e.scopes.length>0?n("span",[t._v("\n                                    "+t._s(e.scopes.join(", "))+"\n                                ")]):t._e()]),t._v(" "),n("td",{staticStyle:{"vertical-align":"middle"}},[n("a",{staticClass:"action-link text-danger",on:{click:function(n){return t.revoke(e)}}},[t._v("\n                                    Revoke\n                                ")])])])})),0)])])])]):t._e()])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",[e("th",[this._v("Name")]),this._v(" "),e("th",[this._v("Scopes")]),this._v(" "),e("th")])])}],!1,null,"1f6a378c",null).exports;function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var c={data:function(){return{clients:[],createForm:{errors:[],name:"",redirect:""},editForm:{errors:[],name:"",redirect:""},createClientModal:!1,editClientModal:!1}},ready:function(){this.prepareComponent()},mounted:function(){this.prepareComponent()},methods:{prepareComponent:function(){this.getClients(),$("#modal-create-client").on("shown.bs.modal",(function(){$("#create-client-name").focus()})),$("#modal-edit-client").on("shown.bs.modal",(function(){$("#edit-client-name").focus()}))},getClients:function(){var t=this;axios.get("/oauth/clients").then((function(e){t.clients=e.data}))},store:function(){this.persistClient("post","/oauth/clients",this.createForm,"#modal-create-client")},edit:function(t){this.editForm.id=t.id,this.editForm.name=t.name,this.editForm.redirect=t.redirect,this.editClientModal=!0},update:function(){this.persistClient("put","/oauth/clients/"+this.editForm.id,this.editForm,"#modal-edit-client")},persistClient:function(t,e,n,s){var a=this;n.errors=[],axios[t](e,n).then((function(t){a.getClients(),n.name="",n.redirect="",n.errors=[],$(s).modal("hide")})).catch((function(t){"object"===l(t.response.data)?n.errors=i.a.flatten(i.a.toArray(t.response.data.errors)):n.errors=["Something went wrong. Please try again."]}))},destroy:function(t){var e=this;axios.delete("/oauth/clients/"+t.id).then((function(t){e.getClients()}))}}},d=(n("L48W"),Object(r.a)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"card card-default"},[n("div",{staticClass:"card-header"},[n("div",{staticStyle:{display:"flex","justify-content":"space-between","align-items":"center"}},[n("span",[t._v("\n                    OAuth Clients\n                ")]),t._v(" "),n("a",{staticClass:"action-link",attrs:{tabindex:"-1"},on:{click:function(e){t.createClientModal=!0}}},[t._v("\n                    Create New Client\n                ")])])]),t._v(" "),n("div",{staticClass:"card-body"},[0===t.clients.length?n("p",{staticClass:"mb-0"},[t._v("\n                You have not created any OAuth clients.\n            ")]):t._e(),t._v(" "),t.clients.length>0?n("table",{staticClass:"table table-borderless mb-0"},[t._m(0),t._v(" "),n("tbody",t._l(t.clients,(function(e){return n("tr",[n("td",{staticStyle:{"vertical-align":"middle"}},[t._v("\n                            "+t._s(e.id)+"\n                        ")]),t._v(" "),n("td",{staticStyle:{"vertical-align":"middle"}},[t._v("\n                            "+t._s(e.name)+"\n                        ")]),t._v(" "),n("td",{staticStyle:{"vertical-align":"middle"}},[n("code",[t._v(t._s(e.secret))])]),t._v(" "),n("td",{staticStyle:{"vertical-align":"middle"}},[n("a",{staticClass:"action-link",attrs:{tabindex:"-1"},on:{click:function(n){return t.edit(e)}}},[t._v("\n                                Edit\n                            ")])]),t._v(" "),n("td",{staticStyle:{"vertical-align":"middle"}},[n("a",{staticClass:"action-link text-danger",on:{click:function(n){return t.destroy(e)}}},[t._v("\n                                Delete\n                            ")])])])})),0)]):t._e()])]),t._v(" "),n("b-modal",{ref:"modal-create-client",attrs:{centered:"",title:"Create Client",size:"lg","header-bg-variant":"light","header-text-variant":"primary"},model:{value:t.createClientModal,callback:function(e){t.createClientModal=e},expression:"createClientModal"}},[t.createForm.errors.length>0?n("div",{staticClass:"alert alert-danger"},[n("p",{staticClass:"mb-0"},[n("strong",[t._v("Whoops!")]),t._v(" Something went wrong!")]),t._v(" "),n("br"),t._v(" "),n("ul",t._l(t.createForm.errors,(function(e){return n("li",[t._v("\n                                "+t._s(e)+"\n                            ")])})),0)]):t._e(),t._v(" "),n("form",{attrs:{role:"form"}},[n("div",{staticClass:"form-group row"},[n("label",{staticClass:"col-md-3 col-form-label"},[t._v("Name")]),t._v(" "),n("div",{staticClass:"col-md-9"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.createForm.name,expression:"createForm.name"}],staticClass:"form-control",attrs:{id:"create-client-name",type:"text"},domProps:{value:t.createForm.name},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.store(e)},input:function(e){e.target.composing||t.$set(t.createForm,"name",e.target.value)}}}),t._v(" "),n("span",{staticClass:"form-text text-muted"},[t._v("\n                                    Something your users will recognize and trust.\n                                ")])])]),t._v(" "),n("div",{staticClass:"form-group row"},[n("label",{staticClass:"col-md-3 col-form-label"},[t._v("Redirect URL")]),t._v(" "),n("div",{staticClass:"col-md-9"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.createForm.redirect,expression:"createForm.redirect"}],staticClass:"form-control",attrs:{type:"text",name:"redirect"},domProps:{value:t.createForm.redirect},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.store(e)},input:function(e){e.target.composing||t.$set(t.createForm,"redirect",e.target.value)}}}),t._v(" "),n("span",{staticClass:"form-text text-muted"},[t._v("\n                                    Your application's authorization callback URL.\n                                ")])])])]),t._v(" "),n("button",{staticClass:"btn btn-primary text-center w-100",attrs:{type:"button"},on:{click:t.store}},[t._v("\n                        Create\n                    ")]),t._v(" "),n("div",{attrs:{slot:"modal-footer"},slot:"modal-footer"},[n("span",{staticClass:"btn-label btn-sm btn-light float-right",on:{click:function(e){t.createClientModal=!t.createClientModal}}},[t._v("Close")])])]),t._v(" "),n("b-modal",{ref:"modal-edit-client",attrs:{centered:"",title:"Edit Client",size:"lg","header-bg-variant":"light","header-text-variant":"primary"},model:{value:t.editClientModal,callback:function(e){t.editClientModal=e},expression:"editClientModal"}},[t.editForm.errors.length>0?n("div",{staticClass:"alert alert-danger"},[n("p",{staticClass:"mb-0"},[n("strong",[t._v("Whoops!")]),t._v(" Something went wrong!")]),t._v(" "),n("br"),t._v(" "),n("ul",t._l(t.editForm.errors,(function(e){return n("li",[t._v("\n                                "+t._s(e)+"\n                            ")])})),0)]):t._e(),t._v(" "),n("form",{attrs:{role:"form"}},[n("div",{staticClass:"form-group row"},[n("label",{staticClass:"col-md-3 col-form-label"},[t._v("Name")]),t._v(" "),n("div",{staticClass:"col-md-9"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.editForm.name,expression:"editForm.name"}],staticClass:"form-control",attrs:{id:"edit-client-name",type:"text"},domProps:{value:t.editForm.name},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.update(e)},input:function(e){e.target.composing||t.$set(t.editForm,"name",e.target.value)}}}),t._v(" "),n("span",{staticClass:"form-text text-muted"},[t._v("\n                                    Something your users will recognize and trust.\n                                ")])])]),t._v(" "),n("div",{staticClass:"form-group row"},[n("label",{staticClass:"col-md-3 col-form-label"},[t._v("Redirect URL")]),t._v(" "),n("div",{staticClass:"col-md-9"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.editForm.redirect,expression:"editForm.redirect"}],staticClass:"form-control",attrs:{type:"text",name:"redirect"},domProps:{value:t.editForm.redirect},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.update(e)},input:function(e){e.target.composing||t.$set(t.editForm,"redirect",e.target.value)}}}),t._v(" "),n("span",{staticClass:"form-text text-muted"},[t._v("\n                                    Your application's authorization callback URL.\n                                ")])])])]),t._v(" "),n("div",{attrs:{slot:"modal-footer"},slot:"modal-footer"},[n("span",{staticClass:"btn-label btn-sm btn-light",on:{click:function(e){t.editClientModal=!t.editClientModal}}},[t._v("Close")]),t._v(" "),n("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.update}},[t._v("\n                        Save Changes\n                    ")])])])],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",[e("th",[this._v("Client ID")]),this._v(" "),e("th",[this._v("Name")]),this._v(" "),e("th",[this._v("Secret")]),this._v(" "),e("th"),this._v(" "),e("th")])])}],!1,null,"15c600d4",null).exports);function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var m={data:function(){return{accessToken:null,tokens:[],scopes:[],form:{name:"",scopes:[],errors:[]},createTokenModal:!1,accessTokenModal:!1}},ready:function(){this.prepareComponent()},mounted:function(){this.prepareComponent()},methods:{prepareComponent:function(){this.getTokens(),this.getScopes(),$("#modal-create-token").on("shown.bs.modal",(function(){$("#create-token-name").focus()}))},getTokens:function(){var t=this;axios.get("/oauth/personal-access-tokens").then((function(e){t.tokens=e.data}))},getScopes:function(){var t=this;axios.get("/oauth/scopes").then((function(e){t.scopes=e.data}))},store:function(){var t=this;this.accessToken=null,this.form.errors=[],axios.post("/oauth/personal-access-tokens",this.form).then((function(e){t.form.name="",t.form.scopes=[],t.form.errors=[],t.tokens.push(e.data.token),t.showAccessToken(e.data.accessToken)})).catch((function(e){"object"===u(e.response.data)?t.form.errors=i.a.flatten(i.a.toArray(e.response.data.errors)):t.form.errors=["Something went wrong. Please try again."]}))},toggleScope:function(t){this.scopeIsAssigned(t)?this.form.scopes=i.a.reject(this.form.scopes,(function(e){return e==t})):this.form.scopes.push(t)},scopeIsAssigned:function(t){return i.a.indexOf(this.form.scopes,t)>=0},showAccessToken:function(t){this.createTokenModal=!0,this.accessToken=t,this.accessTokenModal=!0},revoke:function(t){var e=this;axios.delete("/oauth/personal-access-tokens/"+t.id).then((function(t){e.getTokens()}))}}},f=(n("MvzQ"),{components:{AuthorizedClients:o,Clients:d,PersonalAccessTokens:Object(r.a)(m,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",[n("div",{staticClass:"card card-default"},[n("div",{staticClass:"card-header"},[n("div",{staticStyle:{display:"flex","justify-content":"space-between","align-items":"center"}},[n("span",[t._v("\n                        Personal Access Tokens\n                    ")]),t._v(" "),n("a",{staticClass:"action-link",attrs:{tabindex:"-1"},on:{click:function(e){t.createTokenModal=!0}}},[t._v("\n                        Create New Token\n                    ")])])]),t._v(" "),n("div",{staticClass:"card-body"},[0===t.tokens.length?n("p",{staticClass:"mb-0"},[t._v("\n                    You have not created any personal access tokens.\n                ")]):t._e(),t._v(" "),t.tokens.length>0?n("table",{staticClass:"table table-borderless mb-0"},[t._m(0),t._v(" "),n("tbody",t._l(t.tokens,(function(e){return n("tr",[n("td",{staticStyle:{"vertical-align":"middle"}},[t._v("\n                                "+t._s(e.name)+"\n                            ")]),t._v(" "),n("td",{staticStyle:{"vertical-align":"middle"}},[n("a",{staticClass:"action-link text-danger",on:{click:function(n){return t.revoke(e)}}},[t._v("\n                                    Delete\n                                ")])])])})),0)]):t._e()])])]),t._v(" "),n("b-modal",{ref:"modal-create-token",attrs:{centered:"",title:"Create Token",size:"lg","header-bg-variant":"light","header-text-variant":"primary"},model:{value:t.createTokenModal,callback:function(e){t.createTokenModal=e},expression:"createTokenModal"}},[t.form.errors.length>0?n("div",{staticClass:"alert alert-danger"},[n("p",{staticClass:"mb-0"},[n("strong",[t._v("Whoops!")]),t._v(" Something went wrong!")]),t._v(" "),n("br"),t._v(" "),n("ul",t._l(t.form.errors,(function(e){return n("li",[t._v("\n                                "+t._s(e)+"\n                            ")])})),0)]):t._e(),t._v(" "),n("form",{attrs:{role:"form"},on:{submit:function(e){return e.preventDefault(),t.store(e)}}},[n("div",{staticClass:"form-group row"},[n("label",{staticClass:"col-md-4 col-form-label"},[t._v("Name")]),t._v(" "),n("div",{staticClass:"col-md-6"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"form-control",attrs:{id:"create-token-name",type:"text",name:"name"},domProps:{value:t.form.name},on:{input:function(e){e.target.composing||t.$set(t.form,"name",e.target.value)}}})])]),t._v(" "),t.scopes.length>0?n("div",{staticClass:"form-group row"},[n("label",{staticClass:"col-md-4 col-form-label"},[t._v("Scopes")]),t._v(" "),n("div",{staticClass:"col-md-6"},t._l(t.scopes,(function(e){return n("div",[n("div",{staticClass:"checkbox"},[n("label",[n("input",{attrs:{type:"checkbox"},domProps:{checked:t.scopeIsAssigned(e.id)},on:{click:function(n){return t.toggleScope(e.id)}}}),t._v("\n\n                                                "+t._s(e.id)+"\n                                        ")])])])})),0)]):t._e()]),t._v(" "),n("div",{attrs:{slot:"modal-footer"},slot:"modal-footer"},[n("span",{staticClass:"btn-label btn-sm btn-light",on:{click:function(e){t.createTokenModal=!t.createTokenModal}}},[t._v("Close")]),t._v(" "),n("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.store}},[t._v("\n                        Create\n                    ")])])]),t._v(" "),n("b-modal",{ref:"modal-access-token",attrs:{centered:"",title:"Personal Access Token",size:"lg","header-bg-variant":"light","header-text-variant":"primary"},model:{value:t.accessTokenModal,callback:function(e){t.accessTokenModal=e},expression:"accessTokenModal"}},[n("p",[t._v("\n                        Here is your new personal access token. This is the only time it will be shown so don't lose it!\n                        You may now use this token to make API requests.\n                    ")]),t._v(" "),n("textarea",{staticClass:"form-control",attrs:{rows:"10"}},[t._v(t._s(t.accessToken))]),t._v(" "),n("div",{attrs:{slot:"modal-footer"},slot:"modal-footer"},[n("span",{staticClass:"btn-label btn-sm btn-light",on:{click:function(e){t.accessTokenModal=!t.accessTokenModal}}},[t._v("Close")])])])],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",[e("th",[this._v("Name")]),this._v(" "),e("th")])])}],!1,null,"c665e870",null).exports},data:function(){return{}},mounted:function(){},methods:{}}),h=Object(r.a)(f,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"col-12 mt-2 mb-4"},[n("h5",{staticClass:"mt-3"},[t._v("Manage Clients:")]),t._v(" "),n("clients")],1),t._v(" "),n("div",{staticClass:"col-12 mt-2 mb-4"},[n("h5",{staticClass:"mt-3"},[t._v("Manage Personal Acess Tokens:")]),t._v(" "),n("personal-access-tokens")],1),t._v(" "),n("div",{staticClass:"col-12 mt-2 mb-4"},[n("h5",{staticClass:"mt-3"},[t._v("Authorized Clients:")]),t._v(" "),n("authorized-clients")],1)])}),[],!1,null,null,null);e.default=h.exports},l5ez:function(t,e,n){"use strict";n.r(e);var s={components:{},data:function(){return{}},mounted:function(){},methods:{}},i=n("KHd+"),a=Object(i.a)(s,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{staticClass:"col-12 d-flex justify-content-center"},[e("div",{staticClass:"col-sm-10 text-center mt-4 mb-4"},[e("div",{staticClass:"block-announce info"},[this._m(0),this._v(" "),e("p",[this._v('I guess contrary to popular belief, or, perhaps from the dozens of modern ways you can contact your reclusive, overly focused, and somewhat antisocial "IT Team", Email is still the best way to reach support..  Welcome to '+this._s(this.$store.state.disp.name)+"!")]),this._v(" "),this._m(1)])])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticClass:"title"},[e("i",{staticClass:"fas fa-life-ring fa-2x"}),this._v(" You Know..")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("a",{attrs:{href:"support@hotboxerp.com",target:"_blank"}},[e("i",{staticClass:"hotbox-icon hotbox-icon-email"}),this._v(" Email: support@hotboxerp.com")])])}],!1,null,null,null);e.default=a.exports},oMnY:function(t,e,n){"use strict";var s=n("aLaw");n.n(s).a},ocDq:function(t,e,n){var s=n("Nx9N");"string"==typeof s&&(s=[[t.i,s,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(s,i);s.locals&&(t.exports=s.locals)},"vGc+":function(t,e,n){"use strict";n.r(e);var s=n("o0o1"),i=n.n(s);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){for(var n=0;n<e.length;n++){var s=e[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}function o(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var d=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),o(this,l(e).apply(this,arguments))}var n,s,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(e,t),n=e,(s=[{key:"resource",value:function(){return"admin/auth/servicelogs"}},{key:"primaryKey",value:function(){return"id"}}])&&r(n.prototype,s),i&&r(n,i),e}(n("YA5Z").a),u=n("2AMj"),m=n("LvDl"),f=n.n(m),h={props:{model:{type:String,default:"Servicelog"},module:{type:String,default:"superadmin"},id:{type:[Number,String],default:""},view:{type:String,default:"request"}},data:function(){return{item:null,tab:this.view,isLoading:!1,isError:!1,isModified:!1,isProcessing:!1,itemState:"save",requestJson:null,responseJson:null,errorJson:null}},components:{VJsoneditor:u.a},mounted:function(){var t=this;this.isLoading=!0,d.find(this.id).then((function(e){t.schema=e.schema,t.item=new d(e).withDefaults(t.schema),t.requestJson=t.item.parameters?JSON.parse(t.item.parameters)||t.item.parameters:null,t.responseJson=t.item.response?JSON.parse(t.item.response)||t.item.response:null,t.errorJson=t.item.error?JSON.parse(t.item.error)||t.item.error:null,t.isLoading=!1})).catch((function(e){t.$announcer({status:400,data:{message:"We had a hiccup fetching the data - Please try again later."}}),t.$emit("refresh")}))},methods:{},computed:{},watch:{}},v=n("KHd+"),p=Object(v.a)(h,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.item&&t.schema?n("div",{staticClass:"col-12"},[n("div",{staticClass:"nav-tabs-header mb-4"},[n("ul",{staticClass:"nav nav-tabs nav-tabs-custom"},[n("li",{staticClass:"nav-link",class:{active:"request"==t.tab}},[n("a",{attrs:{href:""},on:{click:function(e){e.preventDefault(),t.tab="request"}}},[t._v("Request")])]),t._v(" "),n("li",{staticClass:"nav-link",class:{active:"response"==t.tab}},[n("a",{attrs:{href:""},on:{click:function(e){e.preventDefault(),t.tab="response"}}},[n("i",{staticClass:"fal fa-exchange"}),t._v(" Response")])]),t._v(" "),n("li",{staticClass:"nav-link",class:{active:"entity"==t.tab}},[n("a",{attrs:{href:""},on:{click:function(e){e.preventDefault(),t.tab="entity"}}},[n("i",{staticClass:"fal fa-key"}),t._v(" Entity Ref")])]),t._v(" "),n("li",{staticClass:"nav-link",class:{active:"service"==t.tab}},[n("a",{attrs:{href:""},on:{click:function(e){e.preventDefault(),t.tab="service"}}},[n("i",{staticClass:"fal fa-envelope-open"}),t._v(" Support")])])])]),t._v(" "),n("transition",{attrs:{name:"bo-slide"}},["request"==t.tab?n("div",{},[n("h5",[t._v(t._s(t.item.resource_ref))]),t._v(" "),n("div",{staticClass:"json-edit"},[n("v-jsoneditor",{attrs:{mode:"view",modes:["code","view","tree"]},on:{input:function(e){return t.requestJson=e},"has-error":function(e){t.isError=!0}},model:{value:t.requestJson,callback:function(e){t.requestJson=e},expression:"requestJson"}})],1)]):t._e()]),t._v(" "),n("transition",{attrs:{name:"bo-slide"}},["response"==t.tab?n("div",{},[n("h5",[t._v(t._s(t.item.resource_ref))]),t._v(" "),n("div",{staticClass:"json-edit"},[n("v-jsoneditor",{attrs:{mode:"view",modes:["code","view","tree"]},on:{input:function(e){return t.responseJson=e},"has-error":function(e){t.isError=!0}},model:{value:t.responseJson,callback:function(e){t.responseJson=e},expression:"responseJson"}})],1)]):t._e()]),t._v(" "),n("transition",{attrs:{name:"bo-slide"}},["entity"==t.tab?n("div",{},[n("h5",{staticClass:"text-center"},[t._v("Feature Coming Soon..")])]):t._e()]),t._v(" "),n("transition",{attrs:{name:"bo-slide"}},["service"==t.tab?n("div",{},[n("h5",{staticClass:"text-center"},[t._v("Email API Trouble Ticket Feature Coming Soon..")])]):t._e()])],1):n("div",{staticClass:"no-content-block"},[n("loading",{attrs:{display:!t.item||!t.schema,type:"loadModal"}})],1)}),[],!1,null,null,null).exports;function g(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function b(t,e,n,s,i,a,r){try{var o=t[a](r),l=o.value}catch(t){return void n(t)}o.done?e(l):Promise.resolve(l).then(s,i)}function y(t){return function(){var e=this,n=arguments;return new Promise((function(s,i){var a=t.apply(e,n);function r(t){b(a,s,i,r,o,"next",t)}function o(t){b(a,s,i,r,o,"throw",t)}r(void 0)}))}}var C,k,w={props:{module:{type:String,default:"superadmin"},model:{type:String,default:"servicelog"}},data:function(){return{isLoading:!1,isDownloading:!1,shouldReload:!1,gridData:null,gridSearch:null,gridPage:1,gridColumns:null,gridFilters:null,editModal:!1,editView:"request",editId:0}},components:{EditModal:p},mounted:(k=y(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.$store.dispatch(this.module+"/setSchemas",this.model.toLowerCase());case 2:this.gridSearch=this.$store.state[this.module].search||null,this.schema&&this.setFilters(this.$route.params.focus);case 4:case"end":return t.stop()}}),t,this)}))),function(){return k.apply(this,arguments)}),methods:{fetchGrid:(C=y(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.schema&&this.gridFilters){t.next=4;break}return t.abrupt("return",!1);case 4:if(1!=this.isLoading){t.next=6;break}return t.abrupt("return",!1);case 6:return this.isLoading=!0,t.next=9,(new d).setFilters(this.gridFilters.filter).params({search:this.gridSearch}).orderBy((this.gridFilters.orderDesc?"-":"")+this.gridFilters.sortBy).limit(this.gridFilters.pageLimit).page(this.gridPage).get();case 9:this.gridData=t.sent,this.isLoading=!1;case 11:case"end":return t.stop()}}),t,this)}))),function(){return C.apply(this,arguments)}),searchGrid:f.a.debounce((function(t){this.gridPage=1,this.$store.commit(this.module+"/setFocus","all"),this.$store.commit(this.module+"/setTab",this.model.toLowerCase()),this.$store.commit(this.module+"/setSearch",this.gridSearch),this.fetchGrid()}),500),setFilters:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all";if(!this.schema)return!1;this.gridFilters={pageLimit:20,sortBy:Object.keys(this.schema.filters).find((function(e){return"daterange"===t.schema.filters[e].type}))||"rank",orderDesc:!0,filter:Object.assign.apply(Object,[{}].concat(_(Object.keys(this.schema.filters).map((function(e){return g({},e,t.schema.filters[e].values.map((function(t){return t.id})))}))),[g({},this.schema.meta.focus_field||"type",[e])]))}},renderRowBg:function(t,e){return t&&"failed"==t.status?"table-warning":null},confirmDelete:function(t){var e=this;this.$swal.fire({title:"Are you sure?",text:"This will Delete this "+this.model+" row.",type:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete row"}).then((function(n){n.value&&(e.isLoading=!0,new d({id:t}).delete().then((function(t){e.isLoading=!1,e.$store.dispatch(e.module+"/setSchemas",e.model.toLowerCase()),e.$announcer(t),e.fetchGrid()})).catch((function(t){e.isLoading=!1,e.$announcer(t.response)})))}))},downloadExport:function(t){var e=this;this.isDownloading=!0,axios({url:(new d).setFilters(this.gridFilters.filter).custom(this.schema.meta.resource+"/export/"+t).getUrl(),method:"GET",responseType:"blob"}).then((function(t){e.isDownloading=!1,e.downloadFile(t)})).catch((function(t){e.isDownloading=!1,e.$announcer(t.response)}))},loadModal:function(t,e){this.editId=t,this.editView=e,this.editModal=!this.editModal},renderUom:function(t,e){return this.schema.form[e]&&this.schema.form[e].values.find((function(n){return n.id==t[e]}))?this.schema.form[e].values.find((function(n){return n.id==t[e]})).name:t[e]}},computed:{schema:function(){return this.$store.state[this.module][this.model.toLowerCase()+"Schema"]},columnsVisible:function(){return this.gridColumns?this.gridColumns.filter((function(t){return!0===t.toggle||!t.hasOwnProperty("toggle")})):[]},isAllInBatch:function(){return!!this.gridData&&this.batchEditIds.length==this.gridData.data.length},gridFocus:function(){return this.$store.state[this.module].focus}},watch:{gridFilters:{handler:function(t,e){this.gridPage=1,this.gridFilters&&this.fetchGrid()},deep:!0},gridPage:function(t,e){this.gridFilters&&this.fetchGrid()},schema:{handler:function(t,e){!e&&t?this.setFilters():f.a.isEqual(t.filters,e.filters)?1==this.shouldReload&&(this.fetchGrid(),this.shouldReload=!1):this.setFilters(),t&&!this.gridColumns&&(this.gridColumns=t.meta.fields)},deep:!0},gridFocus:function(t,e){t&&this.gridFilters&&!f.a.isEqual(t,e)&&("all"!=t&&"all"!=e&&(this.gridSearch=null),this.gridFilters&&(this.gridFilters.filter.type=[t]))}}},x=Object(v.a)(w,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.schema?n("div",{staticClass:"col-12"},[n("form",[n("div",{staticClass:"table-filter-row"},[n("div",{staticClass:"filter-search"},[n("div",{staticClass:"input-group"},[t._m(0),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.gridSearch,expression:"gridSearch"}],staticClass:"form-control border-left-0",attrs:{type:"text",placeholder:t.schema.lang.searchPrompt||"Search Grid"},domProps:{value:t.gridSearch},on:{input:[function(e){e.target.composing||(t.gridSearch=e.target.value)},t.searchGrid],keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),t.searchGrid(e))}}})])]),t._v(" "),t.gridFilters?n("div",{staticClass:"filters"},[t.gridData?n("filter-more",{attrs:{meta:t.gridData.meta,schema:t.schema,gridFilters:t.gridFilters,columns:t.gridColumns,isDownloading:t.isDownloading},on:{"update:gridFilters":function(e){t.gridFilters=e},"update:grid-filters":function(e){t.gridFilters=e},"update:columns":function(e){t.gridColumns=e},downloadExport:t.downloadExport}}):t._e(),t._v(" "),t._l(t.schema.filters,(function(e,s){return"wherein"==e.type?n("filter-in",{key:s,attrs:{schema:e,filter:t.gridFilters.filter[s]},on:{update:function(e){t.gridFilters.filter[s]=e}}}):t._e()})),t._v(" "),t._l(t.schema.filters,(function(e,s){return"daterange"==e.type?n("filter-date",{key:s,attrs:{schema:e,filter:t.gridFilters.filter[s]},on:{update:function(e){t.gridFilters.filter[s]=e}}}):t._e()}))],2):t._e()])]),t._v(" "),n("loading",{attrs:{display:t.isLoading,type:"loadGrid"}}),t._v(" "),n("transition",{attrs:{name:"bo-slide"}},[t.schema&&t.gridFilters?n("b-table",{attrs:{striped:"",hover:"",id:t.model.toLowerCase()+"_table","primary-key":"id",items:t.gridData?t.gridData.data:[],fields:t.columnsVisible,busy:t.isLoading,"show-empty":!0,"sort-by":t.gridFilters.sortBy,"sort-desc":t.gridFilters.orderDesc,"no-local-sorting":!0,"no-local-filtering":!0,"no-sort-reset":!0,"per-page":0,tbodyTrClass:t.renderRowBg,responsive:"md",stacked:"sm"},on:{"update:busy":function(e){t.isLoading=e},"update:sortBy":function(e){return t.$set(t.gridFilters,"sortBy",e)},"update:sort-by":function(e){return t.$set(t.gridFilters,"sortBy",e)},"update:sortDesc":function(e){return t.$set(t.gridFilters,"orderDesc",e)},"update:sort-desc":function(e){return t.$set(t.gridFilters,"orderDesc",e)}},scopedSlots:t._u([t._l(t.schema.meta.fields,(function(e,s){return{key:"head(field.key)",fn:function(s){return[n("em",[e.icon?n("i",{class:e.icon,on:{click:function(e){return t.fetchGrid()}}}):t._e(),t._v(" "),e.description?n("i",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",value:e.description,expression:"field.description",modifiers:{hover:!0}}],staticClass:"fal fa-question-circle",attrs:{title:e.name}}):t._e(),t._v(" "),"batch_ids"==e.key?n("span",[n("label",{staticClass:"custom-control custom-checkbox"},[n("input",{staticClass:"custom-control-input",attrs:{type:"checkbox"},domProps:{checked:t.isAllInBatch},on:{click:t.toggleBatchAll}}),n("span",{staticClass:"custom-control-indicator"})])]):n("span",[t._v(t._s(s.label))])])]}}})),{key:"cell(created_at)",fn:function(e){return[t._v("\n                "+t._s(t._f("localDate")(e.value,"MM/DD/YYYY LTS"))+"\n            ")]}},{key:"cell(name)",fn:function(e){return[t._v("\n                "+t._s(e.value)+"\n            ")]}},{key:"cell(status)",fn:function(e){return[t._v("\n                "+t._s(e.value)+" "),n("span",{staticClass:"small"},[t._v("["+t._s(e.item.state)+"]")])]}},{key:"cell(actions)",fn:function(e){return[n("a",{staticClass:"btn btn-sm btn-primary float-right",attrs:{href:""},on:{click:function(n){return n.preventDefault(),t.loadModal(e.item.id,"request")}}},[n("i",{staticClass:"hotbox-icon hotbox-icon-search-2"})])]}},{key:"row-details",fn:function(){},proxy:!0},t.gridData?{key:"table-caption",fn:function(){return[t.gridData.data.length>0?n("div",[t.gridData.meta?n("span",[t._v("\n                        Showing "+t._s(t.gridData.meta.per_page*(t.gridPage-1)+1)+" to "+t._s(t.gridData.meta.per_page*t.gridPage<t.gridData.meta.total?t.gridData.meta.per_page*t.gridPage:t.gridData.meta.total)+" of "+t._s(t.gridData.meta.total)+" "+t._s(t.schema.lang.items?t.schema.lang.items:"Records")+"\n                    ")]):n("span",[t._v("Showing All "+t._s(t.schema.lang.items?t.schema.lang.items:"Records"))]),t._v(" "),n("div",{staticClass:"table-pager-footer"},[t.gridData.meta.total>0?n("b-pagination",{attrs:{"total-rows":t.gridData.meta.total,"per-page":t.gridData.meta.per_page,"aria-controls":"users_table"},model:{value:t.gridPage,callback:function(e){t.gridPage=e},expression:"gridPage"}}):t._e()],1)]):t._e()]},proxy:!0}:null,{key:"empty",fn:function(){return[t.isLoading?n("div",{staticClass:"h-100"},[t._v(" ")]):n("div",[n("img",{attrs:{src:"/images/logo.png",alt:"No Results",width:"115"}}),t._v(" "),n("h4",[t._v("Hmm, There are currently no Results.")])])]},proxy:!0}],null,!0)}):t._e()],1),t._v(" "),n("b-modal",{ref:"editModal",attrs:{centered:"",size:"xl","header-bg-variant":"light","header-text-variant":"primary"},model:{value:t.editModal,callback:function(e){t.editModal=e},expression:"editModal"}},[n("template",{slot:"modal-header"},[n("i",{staticClass:"modal-top-close fal fa-times",on:{click:function(e){t.editModal=!t.editModal}}}),t._v(" "),n("h5",{staticClass:"w-100 mb-0 text-center"},[t._v("Service Log Details")])]),t._v(" "),t.editModal?n("edit-modal",{attrs:{id:t.editId,view:t.editView}}):t._e(),t._v(" "),n("template",{slot:"modal-footer"},[n("span",{staticClass:"btn-label btn-sm btn-light float-right",on:{click:function(e){t.editModal=!t.editModal}}},[t._v("Close")])])],2)],1):n("div",[n("loading",{attrs:{display:!t.schema,type:"loadPage"}})],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"input-group-prepend"},[e("button",{staticClass:"btn btn-outline-secondary border-right-0",attrs:{type:"button"}},[e("i",{staticClass:"fal fa-search"})])])}],!1,null,null,null);e.default=x.exports},yzjC:function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,"\n.action-link[data-v-1f6a378c] {\n    cursor: pointer;\n}\n",""])},zz4g:function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,"\n.action-link[data-v-15c600d4] {\n    cursor: pointer;\n}\n",""])}}]);